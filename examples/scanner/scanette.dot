digraph G {
0 -> 1 [label = "S.debloquer : 0"];
1 -> 2 [label = "S.scanner : 0 / panier++"];
1 -> 3 [label = "S.scanner : -2"];
1 -> 5 [label = "S.transmission : 0"];
2 -> 0 [label = "S.abandon"];
2 -> 1 [label = "[panier = 1]\nS.supprimer : 0 / panier--"];
2 -> 2 [label = "S.scanner : 0 / panier++"];
2 -> 2 [label = "[panier > 1]\nS.supprimer : 0 / panier--"];
2 -> 4 [label = "S.scanner : -2"];
2 -> 9 [label = "S.transmission : 0"];
2 -> 12 [label = "S.transmission : 1 / produits = (panier > 12) ? 12 : panier"];
3 -> 0 [label = "S.abandon"]; 
3 -> 4 [label = "S.scanner : 0 / panier++"];
3 -> 5 [label = "S.transmission : 0"];
4 -> 0 [label = "S.abandon"];
4 -> 3 [label = "[panier = 1]\nS.supprimer : 0 / panier--"];
4 -> 4 [label = "S.scanner : 0 / panier++"];
4 -> 4 [label = "S.scanner : -2"];
4 -> 4 [label = "[panier > 1]\nS.supprimer : 0 / panier--"];
4 -> 11 [label = "S.transmission : 0"];
4 -> 15 [label = "S.transmission : 1 / produits = (panier > 12) ? 12 : panier"];
5 -> 6 [label = "C.ouvirSession : 0"];
6 -> 7 [label = "C.ajouter : 0 / achats++"];
6 -> 8 [label = "C.fermerSession : 0"];
7 -> 6 [label = "[achats=1]\nC.supprimer : 0 / achats--"];
7 -> 7 [label = "C.ajouter : 0 / achats++"];
7 -> 7 [label = "[achats > 1]\nC.supprimer : 0 / achats--"];
7 -> 9 [label = "C.fermerSession : 0"];
9 -> 7 [label= "C.ouvrirSession : 0"];
9 -> 9 [label = "C.payer < 0"];
9 -> 10 [label = "C.payer > 0"];
11 -> 7 [label = "C.ouvrirSession : 0"];
12 -> 12 [label = "[produits > 1]\nS.scanner : 0 / produits--"];
12 -> 13 [label = "S.scanner : -3"];
12 -> 14 [label = "[produits = 1]\nS.scanner : 0 / produits--"];
14 -> 9 [label = "S.transmission : 0"];
15 -> 13 [label = "S.scanner : -3"];
15 -> 15 [label = "[produits > 1]\nS.scanner : 0 / produits--"];
15 -> 16 [label = "[produits = 1]\nS.scanner : 0 / produits--"];
16 -> 11 [label = "S.transmission : 0"];

9 -> 9 [label = "S.abandon"];
11 -> 11 [label = "S.abandon"];
3 -> 3 [label = "S.scanner : -2"];
15 -> 17 [label ="S.transmission : 0"];
17 [label="error"];
17 -> 17 [label = "*"];
3 -> 3 [label = "S.supprimer : -2"];
12 -> 17 [label ="S.transmission : 0"];
2 -> 2 [label = "S.supprimer : -2"];
4 -> 4 [label = "S.supprimer : -2"];
13 -> 13 [label = "S.abandon"];
1 -> 1 [label = "S.supprimer : -2"];
9 -> 10 [label = "C.payer : 0"];


0 [label="bloquÃ©e",shape=diamond];
1 [label="panier = 0"];
2 [label="panier > 0"];
3 [label="panier = 0\ninconnues > 0"];
4 [label="panier > 0\ninconnues > 0"];
5 [label="attente\nachats = 0"];
6 [label="session ouverte\nachats = 0"];
7 [label="session ouverte\nachats > 0"];
8 [label="achats=0",shape=doublecircle];
9 [label="attente\npaiement"];
10 [label="achats>0",shape=doublecircle];
11 [label="attente\ninconnues > 0"];
12 [label="relecture\nproduits > 0"];
13 [label="relecture KO",shape=doublecircle];
14 [label="relecture OK"];
15 [label="relecture\nproduits > 0\ninconnues > 0"];
16 [label="relecture OK\ninconnues > 0"];
}
